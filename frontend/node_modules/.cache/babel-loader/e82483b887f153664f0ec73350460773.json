{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{message}from\"antd\";import Cookies from'js-cookie';export var isLoggedInAsCookie=function isLoggedInAsCookie(){console.log(\"document.cookie\",document.cookie);console.log(\"Cookies.get(\\\"isLoggedIn\\\")\",Cookies.get(\"isLoggedIn\"));return!!Cookies.get(\"isLoggedIn\");};export var isRegisteringWithGoogle=function isRegisteringWithGoogle(){return!!Cookies.get(\"usernameForGoogle\");};export var disabledDate=function disabledDate(current){var nowTime=new Date(Date.now());var nowYear=nowTime.getFullYear(),nowMonth=nowTime.getMonth(),nowDate=nowTime.getDate();if(current){var selectYear=current.year(),selectMonth=current.month(),selectDate=current.date();return nowYear-selectYear<18||nowYear-selectYear===18&&nowMonth<selectMonth||nowYear-selectYear===18&&nowMonth===selectMonth&&nowDate<selectDate;}return false;};export var beforeUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(file){var isImage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isImage=file.type.split(\"/\")[0]==='image';if(isImage){_context.next=4;break;}_context.next=4;return message.error('You can only upload image!',1);case 4:return _context.abrupt(\"return\",isImage);case 5:case\"end\":return _context.stop();}}},_callee);}));return function beforeUpload(_x){return _ref.apply(this,arguments);};}();export var showBackendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var backendMessage,backendMessageList;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:backendMessage=Cookies.get(\"backendMessage\");if(backendMessage){backendMessageList=backendMessage.split(\"#\");if(backendMessageList[0]===\"error\"){message.error(backendMessageList[1],1);}else if(backendMessageList[0]===\"success\"){message.success(backendMessageList[1],1);}else if(backendMessageList[0]===\"info\"){message.info(backendMessageList[1],1);}else if(backendMessageList[0]===\"warning\"){message.warning(backendMessageList[1],1);}else if(backendMessageList[0]===\"loading\"){message.loading(backendMessageList[1],1);}Cookies.remove(\"backendMessage\");}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function showBackendMessage(){return _ref2.apply(this,arguments);};}();export var stringArrayEqual=function stringArrayEqual(arrayA,arrayB){if(arrayA&&arrayB){var st=new Set();var _iterator=_createForOfIteratorHelper(arrayA),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var s=_step.value;st.add(s);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(arrayB),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s=_step2.value;if(!st.has(_s)){return false;}else{st.delete(_s);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return st.size===0;}else return!arrayA&&!arrayB;};","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/util/Functions.js"],"names":["message","Cookies","isLoggedInAsCookie","console","log","document","cookie","get","isRegisteringWithGoogle","disabledDate","current","nowTime","Date","now","nowYear","getFullYear","nowMonth","getMonth","nowDate","getDate","selectYear","year","selectMonth","month","selectDate","date","beforeUpload","file","isImage","type","split","error","showBackendMessage","backendMessage","backendMessageList","success","info","warning","loading","remove","stringArrayEqual","arrayA","arrayB","st","Set","s","add","has","delete","size"],"mappings":"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","sourcesContent":["import {message} from \"antd\";\nimport Cookies from 'js-cookie'\n\nexport const isLoggedInAsCookie = () => {\n    console.log(\"document.cookie\", document.cookie);\n    console.log(\"Cookies.get(\\\"isLoggedIn\\\")\", Cookies.get(\"isLoggedIn\"));\n    return !!Cookies.get(\"isLoggedIn\");\n}\n\nexport const isRegisteringWithGoogle = () => {\n    return !!Cookies.get(\"usernameForGoogle\");\n}\n\nexport const disabledDate = (current) => {\n    let nowTime = new Date(Date.now());\n    let nowYear = nowTime.getFullYear(),\n        nowMonth = nowTime.getMonth(),\n        nowDate = nowTime.getDate();\n    if (current) {\n        let selectYear = current.year(),\n            selectMonth = current.month(),\n            selectDate = current.date();\n        return (nowYear - selectYear < 18)\n            || (nowYear - selectYear === 18 && nowMonth < selectMonth)\n            || (nowYear - selectYear === 18 && nowMonth === selectMonth && nowDate < selectDate);\n    }\n    return false;\n}\n\nexport const beforeUpload = async (file) => {\n    const isImage = file.type.split(\"/\")[0] === 'image';\n    if (!isImage) {\n        await message.error('You can only upload image!', 1);\n    }\n    return isImage;\n}\n\nexport const showBackendMessage = async () => {\n    let backendMessage = Cookies.get(\"backendMessage\");\n    if (backendMessage) {\n        let backendMessageList = backendMessage.split(\"#\");\n        if (backendMessageList[0] === \"error\") {\n            message.error(backendMessageList[1], 1);\n        } else if (backendMessageList[0] === \"success\") {\n            message.success(backendMessageList[1], 1);\n        } else if (backendMessageList[0] === \"info\") {\n            message.info(backendMessageList[1], 1);\n        } else if (backendMessageList[0] === \"warning\") {\n            message.warning(backendMessageList[1], 1);\n        } else if (backendMessageList[0] === \"loading\") {\n            message.loading(backendMessageList[1], 1);\n        }\n        Cookies.remove(\"backendMessage\");\n    }\n}\n\nexport const stringArrayEqual = (arrayA, arrayB) => {\n\n    if (arrayA && arrayB) {\n        let st = new Set();\n        for (let s of arrayA) {\n            st.add(s);\n        }\n        for (let s of arrayB) {\n            if (!st.has(s)) {\n                return false;\n            } else {\n                st.delete(s);\n            }\n        }\n        return st.size === 0;\n    } else return !arrayA && !arrayB;\n}\n"]},"metadata":{},"sourceType":"module"}
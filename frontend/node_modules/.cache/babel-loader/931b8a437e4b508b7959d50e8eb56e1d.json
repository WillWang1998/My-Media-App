{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/MinProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Card, Input, Button, Space, Divider, message } from \"antd\";\nimport { CheckOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { showBackendMessage } from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MinProfile = () => {\n  _s();\n\n  message.config({\n    rtl: false\n  });\n  const [editing, setEditing] = useState(false);\n  const [headline, setHeadline] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [displayedName, setDisplayedName] = useState(\"\");\n\n  const load = async () => {\n    await fetch(\"http://localhost:4000/profile\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(res => {\n      setHeadline(res.headline);\n      setAvatar(res.avatar);\n      setDisplayedName(res.displayed_name);\n    }).catch(err => message.error(err, 1));\n  };\n\n  useEffect(() => load(), []);\n\n  const onClick = async values => {\n    if (editing) {\n      setEditing(false);\n      await fetch(\"http://localhost:4000/headline\", {\n        method: \"PUT\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          headline: headline\n        })\n      }).then(res => {\n        if (res.ok) {\n          showBackendMessage();\n          return res.json();\n        } else {\n          throw res.statusText;\n        }\n      }).then(() => EventBus.dispatchEvent(\"reload_profile\")).catch(err => message.error(err, 1));\n    } else {\n      setEditing(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bordered: true,\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"left\",\n      children: \"Me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card.Meta, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this),\n      title: displayedName,\n      description: /*#__PURE__*/_jsxDEV(Space, {\n        size: 0,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          onClick: onClick,\n          children: [\" \", editing ? /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 39\n          }, this) : /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), \" \", editing ? /*#__PURE__*/_jsxDEV(Input, {\n          value: headline,\n          onChange: e => {\n            setHeadline(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: headline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MinProfile, \"F3zcRcqW/9+VYak5TJUJAdhy8G4=\");\n\n_c = MinProfile;\nexport default MinProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MinProfile\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/MinProfile.js"],"names":["React","useEffect","useState","Avatar","Card","Input","Button","Space","Divider","message","CheckOutlined","EditOutlined","showBackendMessage","EventBus","MinProfile","config","rtl","editing","setEditing","headline","setHeadline","avatar","setAvatar","displayedName","setDisplayedName","load","fetch","method","credentials","then","res","ok","json","statusText","displayed_name","catch","err","error","onClick","values","headers","body","JSON","stringify","dispatchEvent","e","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Card, Input, Button, Space, Divider, message} from \"antd\";\nimport {CheckOutlined, EditOutlined} from \"@ant-design/icons\";\nimport {showBackendMessage} from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\n\nconst MinProfile = () => {\n    message.config({\n        rtl: false,\n    });\n    const [editing, setEditing] = useState(false);\n    const [headline, setHeadline] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n\n    const load = async () => {\n        await fetch(\"http://localhost:4000/profile\", {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            setHeadline(res.headline);\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayed_name);\n        }).catch(err => message.error(err, 1));\n    };\n\n    useEffect(() => load(), []);\n\n    const onClick = async (values) => {\n        if (editing) {\n            setEditing(false);\n            await fetch(\"http://localhost:4000/headline\", {\n                method: \"PUT\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    headline: headline,\n                }),\n            }).then(res => {\n                if (res.ok) {\n                    showBackendMessage();\n                    return res.json();\n                } else {\n                    throw res.statusText;\n                }\n            }).then(() => EventBus.dispatchEvent(\"reload_profile\"))\n                .catch(err => message.error(err, 1));\n        } else {\n            setEditing(true);\n        }\n    }\n\n    return (\n        <Card bordered={true}>\n            <Divider orientation=\"left\">Me</Divider>\n            <Card.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={\n                    <Space size={0}>\n                        <Button type=\"text\" onClick={onClick}> {\n                            editing ? <CheckOutlined/> : <EditOutlined/>\n                        }\n                        </Button> {\n                            editing ? <Input value={headline} onChange={(e) => {\n                                setHeadline(e.target.value);\n                            }}/> :\n                            <span>{headline}</span>}\n                    </Space>\n                }\n            />\n        </Card>\n    )\n}\n\nexport default MinProfile;\n"]},"metadata":{},"sourceType":"module"}
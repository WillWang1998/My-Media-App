{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Following.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Button, List, message } from \"antd\";\nimport { showBackendMessage } from \"../util/Functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Following = props => {\n  _s();\n\n  message.config({\n    rtl: false\n  });\n  const [username, setUsername] = useState(props.username);\n  const [avatar, setAvatar] = useState(\"\");\n  const [displayedName, setDisplayedName] = useState(\"\");\n  const [headline, setHeadline] = useState(\"\");\n\n  const load = async () => {\n    if (!username) return;\n    await fetch(\"https://comp531-rw48-mymedia-backend.herokuapp.com/profile/\" + username, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(res => {\n      setAvatar(res.avatar);\n      setDisplayedName(res.displayedName);\n      setHeadline(res.headline);\n    }).catch(err => message.error(err, 1));\n  };\n\n  useEffect(() => load(), []);\n\n  const onClick = async () => {\n    props.action(username)();\n  };\n\n  return /*#__PURE__*/_jsxDEV(List.Item, {\n    actions: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      onClick: onClick,\n      children: props.actionSymbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this),\n      title: displayedName,\n      description: headline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Following, \"HMupJD8gQsNouLqFrpfeEo5bVMo=\");\n\n_c = Following;\nexport default Following;\n\nvar _c;\n\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Following.js"],"names":["React","useEffect","useState","Avatar","Button","List","message","showBackendMessage","Following","props","config","rtl","username","setUsername","avatar","setAvatar","displayedName","setDisplayedName","headline","setHeadline","load","fetch","method","credentials","then","res","ok","json","statusText","catch","err","error","onClick","action","actionSymbol"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,OAA9B,QAA4C,MAA5C;AACA,SAAQC,kBAAR,QAAiC,mBAAjC;;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AAEzBH,EAAAA,OAAO,CAACI,MAAR,CAAe;AACXC,IAAAA,GAAG,EAAE;AADM,GAAf;AAIA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAACO,KAAK,CAACG,QAAP,CAAxC;AACA,QAAM,CAACE,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAoCf,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMkB,IAAI,GAAG,YAAY;AACrB,QAAI,CAACR,QAAL,EAAe;AACf,UAAMS,KAAK,CAAC,gEAAgET,QAAjE,EAA2E;AAClFU,MAAAA,MAAM,EAAE,KAD0E;AAElFC,MAAAA,WAAW,EAAE;AAFqE,KAA3E,CAAL,CAGHC,IAHG,CAGEC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACRnB,QAAAA,kBAAkB;AAClB,eAAOkB,GAAG,CAACE,IAAJ,EAAP;AACH,OAHD,MAGO;AACH,cAAMF,GAAG,CAACG,UAAV;AACH;AACJ,KAVK,EAUHJ,IAVG,CAUEC,GAAG,IAAI;AACXV,MAAAA,SAAS,CAACU,GAAG,CAACX,MAAL,CAAT;AACAG,MAAAA,gBAAgB,CAACQ,GAAG,CAACT,aAAL,CAAhB;AACAG,MAAAA,WAAW,CAACM,GAAG,CAACP,QAAL,CAAX;AACH,KAdK,EAcHW,KAdG,CAcGC,GAAG,IAAIxB,OAAO,CAACyB,KAAR,CAAcD,GAAd,EAAmB,CAAnB,CAdV,CAAN;AAeH,GAjBD;;AAmBA7B,EAAAA,SAAS,CAAC,MAAMmB,IAAI,EAAX,EAAe,EAAf,CAAT;;AAEA,QAAMY,OAAO,GAAG,YAAY;AACxBvB,IAAAA,KAAK,CAACwB,MAAN,CAAarB,QAAb;AACH,GAFD;;AAIA,sBACI,QAAC,IAAD,CAAM,IAAN;AAAW,IAAA,OAAO,EAAE,cAChB,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,OAAO,EAAEoB,OAA7B;AAAA,gBACKvB,KAAK,CAACyB;AADX;AAAA;AAAA;AAAA;AAAA,YADgB,CAApB;AAAA,2BAKI,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACI,MAAA,MAAM,eAAE,QAAC,MAAD;AAAQ,QAAA,GAAG,EAAEpB;AAAb;AAAA;AAAA;AAAA;AAAA,cADZ;AAEI,MAAA,KAAK,EAAEE,aAFX;AAGI,MAAA,WAAW,EAAEE;AAHjB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CAjDD;;GAAMV,S;;KAAAA,S;AAmDN,eAAeA,SAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Button, List, message} from \"antd\";\nimport {showBackendMessage} from \"../util/Functions\";\n\n\nconst Following = (props) => {\n\n    message.config({\n        rtl: false,\n    });\n\n    const [username, setUsername] = useState(props.username);\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n    const [headline, setHeadline] = useState(\"\");\n\n    const load = async () => {\n        if (!username) return;\n        await fetch(\"https://comp531-rw48-mymedia-backend.herokuapp.com/profile/\" + username, {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayedName);\n            setHeadline(res.headline);\n        }).catch(err => message.error(err, 1));\n    };\n\n    useEffect(() => load(), []);\n\n    const onClick = async () => {\n        props.action(username)();\n    }\n\n    return (\n        <List.Item actions={[\n            <Button type=\"text\" onClick={onClick}>\n                {props.actionSymbol}\n            </Button>,\n        ]}>\n            <List.Item.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={headline}\n            />\n        </List.Item>\n    )\n};\n\nexport default Following;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/MinProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Card, Input, Button, Space, Divider } from \"antd\";\nimport { CheckOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { handleResponse, showError } from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MinProfile = () => {\n  _s();\n\n  const [editing, setEditing] = useState(false);\n  const [headline, setHeadline] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [displayedName, setDisplayedName] = useState(\"\");\n\n  const load = async () => {\n    await fetch(\"http://localhost:4000/profile\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => handleResponse(res)).then(res => {\n      setHeadline(res.headline);\n      setAvatar(res.avatar);\n      setDisplayedName(res.displayed_name);\n    }).catch(err => showError(err));\n  };\n\n  useEffect(load, []);\n  EventBus.addEventListener(\"reload_min_profile\", load);\n  EventBus.addEventListener(\"clear_all_states\", () => {\n    setAvatar(\"\");\n    setDisplayedName(\"\");\n    setHeadline(\"\");\n  });\n  EventBus.addEventListener(\"reload_all\", load);\n\n  const onClick = async values => {\n    if (editing) {\n      setEditing(false);\n      await fetch(\"http://localhost:4000/headline\", {\n        method: \"PUT\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          headline: headline\n        })\n      }).then(res => handleResponse(res)).then(() => EventBus.dispatchEvent(\"reload_profile\")).catch(err => showError(err));\n    } else {\n      setEditing(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bordered: true,\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"left\",\n      children: \"Me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card.Meta, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this),\n      title: displayedName,\n      description: /*#__PURE__*/_jsxDEV(Space, {\n        size: 0,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          onClick: onClick,\n          children: [\" \", editing ? /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 39\n          }, this) : /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), \" \", editing ? /*#__PURE__*/_jsxDEV(Input, {\n          value: headline,\n          onChange: e => {\n            setHeadline(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: headline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MinProfile, \"F3zcRcqW/9+VYak5TJUJAdhy8G4=\");\n\n_c = MinProfile;\nexport default MinProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MinProfile\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/MinProfile.js"],"names":["React","useEffect","useState","Avatar","Card","Input","Button","Space","Divider","CheckOutlined","EditOutlined","handleResponse","showError","EventBus","MinProfile","editing","setEditing","headline","setHeadline","avatar","setAvatar","displayedName","setDisplayedName","load","fetch","method","credentials","then","res","displayed_name","catch","err","addEventListener","onClick","values","headers","body","JSON","stringify","dispatchEvent","e","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Card, Input, Button, Space, Divider} from \"antd\";\nimport {CheckOutlined, EditOutlined} from \"@ant-design/icons\";\nimport {handleResponse, showError} from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\n\nconst MinProfile = () => {\n    const [editing, setEditing] = useState(false);\n    const [headline, setHeadline] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n\n    const load = async () => {\n        await fetch(\"http://localhost:4000/profile\", {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => handleResponse(res)).then(res => {\n            setHeadline(res.headline);\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayed_name);\n        }).catch(err => showError(err));\n    };\n\n    useEffect(load, []);\n    EventBus.addEventListener(\"reload_min_profile\", load);\n    EventBus.addEventListener(\"clear_all_states\", () => {\n        setAvatar(\"\");\n        setDisplayedName(\"\");\n        setHeadline(\"\");\n    });\n    EventBus.addEventListener(\"reload_all\", load);\n\n    const onClick = async (values) => {\n        if (editing) {\n            setEditing(false);\n            await fetch(\"http://localhost:4000/headline\", {\n                method: \"PUT\",\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    headline: headline,\n                }),\n            }).then(res => handleResponse(res))\n                .then(() => EventBus.dispatchEvent(\"reload_profile\"))\n                .catch(err => showError(err));\n        } else {\n            setEditing(true);\n        }\n    }\n\n    return (\n        <Card bordered={true}>\n            <Divider orientation=\"left\">Me</Divider>\n            <Card.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={\n                    <Space size={0}>\n                        <Button type=\"text\" onClick={onClick}> {\n                            editing ? <CheckOutlined/> : <EditOutlined/>\n                        }\n                        </Button> {\n                            editing ? <Input value={headline} onChange={(e) => {\n                                setHeadline(e.target.value);\n                            }}/> :\n                            <span>{headline}</span>}\n                    </Space>\n                }\n            />\n        </Card>\n    )\n}\n\nexport default MinProfile;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Article.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Button, Card, List, message } from \"antd\";\nimport { DeleteOutlined, EditOutlined, MessageOutlined } from \"@ant-design/icons\";\nimport SubmitOrEditArticle from \"./SubmitOrEditArticle\";\nimport Comments from \"./Comments\";\nimport { showBackendMessage } from \"../util/Functions\";\nimport Images from \"./Images\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Article = props => {\n  _s();\n\n  message.config({\n    rtl: false\n  });\n  const [id, setId] = useState(props.id);\n  const [author, setAuthor] = useState(\"\");\n  const [authorDisplayedName, setAuthorDisplayedName] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [hideComments, setHideComments] = useState(true);\n  const [hideEditor, setHideEditor] = useState(true);\n  const [title, setTitle] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [timestamp, setTimeStamp] = useState(\"\");\n  const [imageUrlList, setImageUrlList] = useState([]);\n  const [commentIdList, setCommentIdList] = useState([]);\n  useEffect(() => {\n    const load = async () => {\n      await fetch(\"http://localhost:4000/article/\" + id, {\n        method: \"GET\",\n        credentials: \"include\"\n      }).then(res => {\n        if (res.ok) {\n          showBackendMessage();\n          return res.json();\n        } else {\n          throw res.statusText;\n        }\n      }).then(async res => {\n        setAuthor(res.author);\n        setTitle(res.title);\n        setText(res.text);\n        setTimeStamp(new Date(res.timestamp).toLocaleString());\n        setImageUrlList(imageUrlList => res.imageUrlList);\n        setCommentIdList(commentIdList => res.commentIdList);\n        await fetch(\"http://localhost:4000/profile/\" + res.author, {\n          method: \"GET\",\n          credentials: \"include\"\n        }).then(res => {\n          if (res.ok) {\n            showBackendMessage();\n            return res.json();\n          } else {\n            throw res.statusText;\n          }\n        }).then(res => {\n          setAuthorDisplayedName(res.displayedName);\n          setAvatar(res.avatar);\n        });\n      }).catch(err => message.error(err, 1));\n    };\n\n    load();\n  }, [props.id]);\n\n  const onDelete = async () => {\n    await fetch(\"http://localhost:4000/article/\" + id, {\n      method: \"DELETE\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(() => {\n      props.deleteAction(props.id);\n      message.success(\"Delete successfully!\");\n    }).catch(err => message.error(err, 1));\n  };\n\n  const onEditArticle = values => {\n    setTitle(values.title);\n    setText(values.text);\n    setTimeStamp(values.timestamp);\n    setImageUrlList(imageUrlList => values.images);\n    setHideEditor(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(List.Item, {\n      actions: props.username === author ? [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => setHideComments(!hideComments),\n        children: [/*#__PURE__*/_jsxDEV(MessageOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }, this), \"Comment\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => setHideEditor(!hideEditor),\n        children: [/*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }, this), \"Edit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: async () => {\n          setHideComments(true);\n          setHideEditor(true);\n          await onDelete();\n        },\n        children: [/*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }, this), \"Delete\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }, this)] : [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => setHideComments(!hideComments),\n        children: [/*#__PURE__*/_jsxDEV(MessageOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }, this), \"Comment\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }, this)],\n      extra: imageUrlList && imageUrlList.length !== 0 ? /*#__PURE__*/_jsxDEV(Images, {\n        images: imageUrlList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false),\n      children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }, this),\n        title: title,\n        description: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [authorDisplayedName, \",\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(timestamp).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), text]\n    }, props.title, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      hidden: hideEditor,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        border: \"true\",\n        children: /*#__PURE__*/_jsxDEV(SubmitOrEditArticle, {\n          action: onEditArticle,\n          id: props.id,\n          title: title,\n          text: text,\n          imageUrlsList: imageUrlList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      hidden: hideComments,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        border: \"true\",\n        children: /*#__PURE__*/_jsxDEV(Comments, {\n          commentIdList: commentIdList,\n          articleId: id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Article, \"GiDfXMCc9H2z8ueiEeRksOhhCRI=\");\n\n_c = Article;\nexport default Article;\n\nvar _c;\n\n$RefreshReg$(_c, \"Article\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Article.js"],"names":["React","useEffect","useState","Avatar","Button","Card","List","message","DeleteOutlined","EditOutlined","MessageOutlined","SubmitOrEditArticle","Comments","showBackendMessage","Images","Article","props","config","rtl","id","setId","author","setAuthor","authorDisplayedName","setAuthorDisplayedName","avatar","setAvatar","hideComments","setHideComments","hideEditor","setHideEditor","title","setTitle","text","setText","timestamp","setTimeStamp","imageUrlList","setImageUrlList","commentIdList","setCommentIdList","load","fetch","method","credentials","then","res","ok","json","statusText","Date","toLocaleString","displayedName","catch","err","error","onDelete","deleteAction","success","onEditArticle","values","images","username","length"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Button, Card, List, message} from \"antd\";\nimport {DeleteOutlined, EditOutlined, MessageOutlined} from \"@ant-design/icons\";\nimport SubmitOrEditArticle from \"./SubmitOrEditArticle\";\nimport Comments from \"./Comments\";\nimport {showBackendMessage} from \"../util/Functions\";\nimport Images from \"./Images\";\n\n\nconst Article = (props) => {\n    message.config({\n        rtl: false,\n    });\n\n    const [id, setId] = useState(props.id);\n    const [author, setAuthor] = useState(\"\");\n    const [authorDisplayedName, setAuthorDisplayedName] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n    const [hideComments, setHideComments] = useState(true);\n    const [hideEditor, setHideEditor] = useState(true);\n    const [title, setTitle] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [timestamp, setTimeStamp] = useState(\"\");\n    const [imageUrlList, setImageUrlList] = useState([]);\n    const [commentIdList, setCommentIdList] = useState([]);\n\n\n\n    useEffect(() => {\n        const load = async () => {\n            await fetch(\"http://localhost:4000/article/\" + id, {\n                method: \"GET\",\n                credentials: \"include\",\n            }).then(res => {\n                if (res.ok) {\n                    showBackendMessage();\n                    return res.json();\n                } else {\n                    throw res.statusText;\n                }\n            }).then(async res => {\n                setAuthor(res.author);\n                setTitle(res.title);\n                setText(res.text);\n                setTimeStamp(new Date(res.timestamp).toLocaleString());\n                setImageUrlList(imageUrlList => res.imageUrlList);\n                setCommentIdList(commentIdList => res.commentIdList);\n                await fetch(\"http://localhost:4000/profile/\" + res.author, {\n                    method: \"GET\",\n                    credentials: \"include\",\n                }).then(res => {\n                    if (res.ok) {\n                        showBackendMessage();\n                        return res.json();\n                    } else {\n                        throw res.statusText;\n                    }\n                }).then(res => {\n                    setAuthorDisplayedName(res.displayedName);\n                    setAvatar(res.avatar);\n                });\n            }).catch(err => message.error(err, 1));\n        };\n        load();\n    }, [props.id]);\n\n    const onDelete = async () => {\n        await fetch(\"http://localhost:4000/article/\" + id, {\n            method: \"DELETE\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(() => {\n            props.deleteAction(props.id);\n            message.success(\"Delete successfully!\");\n        }).catch(err => message.error(err, 1));\n    };\n\n    const onEditArticle = (values) => {\n        setTitle(values.title);\n        setText(values.text);\n        setTimeStamp(values.timestamp);\n        setImageUrlList(imageUrlList => values.images);\n        setHideEditor(true);\n    };\n\n    return (\n        <div>\n            <List.Item\n                key={props.title}\n                actions={\n                    props.username === author ? [\n                        <Button type=\"link\" onClick={() => setHideComments(!hideComments)}>\n                            <MessageOutlined/>Comment\n                        </Button>,\n                        <Button type=\"link\" onClick={() => setHideEditor(!hideEditor)}>\n                            <EditOutlined/>Edit\n                        </Button>,\n                        <Button type=\"link\" onClick={async () => {\n                            setHideComments(true);\n                            setHideEditor(true);\n                            await onDelete();\n                        }}>\n                            <DeleteOutlined />Delete\n                        </Button>,\n                    ] : [\n                        <Button type=\"link\" onClick={() => setHideComments(!hideComments)}>\n                            <MessageOutlined/>Comment\n                        </Button>,\n                    ]\n                }\n                extra={\n                    imageUrlList && imageUrlList.length !== 0 ?\n                    <Images images={imageUrlList}/> :\n                    <></>\n                }\n            >\n                <List.Item.Meta\n                    avatar={<Avatar src={avatar}/>}\n                    title={title}\n                    description={\n                        <div>\n                            <span>\n                                {authorDisplayedName},\n                            </span>\n                            <span>\n                                {(new Date(timestamp)).toLocaleString()}\n                            </span>\n                        </div>\n                    }/>\n                {text}\n            </List.Item>\n            <div hidden={hideEditor}>\n                <Card border=\"true\">\n                    <SubmitOrEditArticle\n                        action={onEditArticle}\n                        id={props.id}\n                        title={title}\n                        text={text}\n                        imageUrlsList={imageUrlList}\n                    />\n                </Card>\n            </div>\n            <div hidden={hideComments}>\n                <Card border=\"true\">\n                    <Comments commentIdList={commentIdList} articleId={id}/>\n                </Card>\n            </div>\n        </div>\n    );\n}\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/GoogleLinking.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { showBackendMessage } from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\nimport { Button, Form, message } from \"antd\";\nimport { formItemLayout, tailFormItemLayout } from \"../util/Layout\";\nimport { GoogleOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GoogleLinking = () => {\n  _s();\n\n  const [googleEmail, setGoogleEmail] = useState(\"\");\n\n  const load = async () => {\n    await fetch(\"http://localhost:4000/google_email\", {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage().then();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(res => {\n      setGoogleEmail(res.google_email);\n    }).catch(err => message.error(err, 1));\n  };\n\n  useEffect(() => load(), []);\n  EventBus.addEventListener(\"reload_google_binding\", load);\n  EventBus.addEventListener(\"reload_all\", load);\n  EventBus.addEventListener(\"clear_all_states\", () => {\n    setGoogleEmail(\"\");\n  });\n\n  const onFinish = async () => {\n    window.location.href = \"http://localhost:3000/auth/google\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n    name: \"userGoogleBinding\",\n    autoComplete: \"off\",\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"googleEmail\",\n      label: \"Google Account\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ant-form-text\",\n        children: googleEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailFormItemLayout,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: [\"Link your account with \", /*#__PURE__*/_jsxDEV(GoogleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GoogleLinking, \"D35/3A2EnKjYolWv/cInC7xsS4g=\");\n\n_c = GoogleLinking;\nexport default GoogleLinking;\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleLinking\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/GoogleLinking.js"],"names":["React","useEffect","useState","showBackendMessage","EventBus","Button","Form","message","formItemLayout","tailFormItemLayout","GoogleOutlined","GoogleLinking","googleEmail","setGoogleEmail","load","fetch","method","credentials","then","res","ok","json","statusText","google_email","catch","err","error","addEventListener","onFinish","window","location","href"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,kBAAR,QAAiC,mBAAjC;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAAQC,MAAR,EAAgBC,IAAhB,EAAsBC,OAAtB,QAAoC,MAApC;AACA,SAAQC,cAAR,EAAwBC,kBAAxB,QAAiD,gBAAjD;AACA,SAAQC,cAAR,QAA6B,mBAA7B;;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;;AAEA,QAAMY,IAAI,GAAG,YAAY;AACrB,UAAMC,KAAK,CAAC,oCAAD,EAAuC;AAC9CC,MAAAA,MAAM,EAAE,KADsC;AAE9CC,MAAAA,WAAW,EAAE;AAFiC,KAAvC,CAAL,CAGHC,IAHG,CAGEC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACRjB,QAAAA,kBAAkB,GAAGe,IAArB;AACA,eAAOC,GAAG,CAACE,IAAJ,EAAP;AACH,OAHD,MAGO;AACH,cAAMF,GAAG,CAACG,UAAV;AACH;AACJ,KAVK,EAUHJ,IAVG,CAUEC,GAAG,IAAI;AACXN,MAAAA,cAAc,CAACM,GAAG,CAACI,YAAL,CAAd;AACH,KAZK,EAYHC,KAZG,CAYGC,GAAG,IAAIlB,OAAO,CAACmB,KAAR,CAAcD,GAAd,EAAmB,CAAnB,CAZV,CAAN;AAaH,GAdD;;AAgBAxB,EAAAA,SAAS,CAAC,MAAMa,IAAI,EAAX,EAAe,EAAf,CAAT;AACAV,EAAAA,QAAQ,CAACuB,gBAAT,CAA0B,uBAA1B,EAAmDb,IAAnD;AACAV,EAAAA,QAAQ,CAACuB,gBAAT,CAA0B,YAA1B,EAAwCb,IAAxC;AACAV,EAAAA,QAAQ,CAACuB,gBAAT,CAA0B,kBAA1B,EAA8C,MAAM;AAChDd,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GAFD;;AAIA,QAAMe,QAAQ,GAAG,YAAY;AACzBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,mCAAvB;AACH,GAFD;;AAIA,sBACI,QAAC,IAAD,OAAUvB,cAAV;AACM,IAAA,IAAI,EAAC,mBADX;AAEM,IAAA,YAAY,EAAC,KAFnB;AAGM,IAAA,QAAQ,EAAEoB,QAHhB;AAAA,4BAKI,QAAC,IAAD,CAAM,IAAN;AAAW,MAAA,IAAI,EAAC,aAAhB;AACW,MAAA,KAAK,EAAC,gBADjB;AAAA,6BAGI;AAAM,QAAA,SAAS,EAAC,eAAhB;AAAA,kBACKhB;AADL;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,YALJ,eAaI,QAAC,IAAD,CAAM,IAAN,OAAeH,kBAAf;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,QAAQ,EAAC,QAAhC;AAAA,2DAC4B,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,gBAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAqBH,CAnDD;;GAAME,a;;KAAAA,a;AAqDN,eAAeA,aAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {showBackendMessage} from \"../util/Functions\";\nimport EventBus from \"../util/EventBus\";\nimport {Button, Form, message} from \"antd\";\nimport {formItemLayout, tailFormItemLayout} from \"../util/Layout\";\nimport {GoogleOutlined} from \"@ant-design/icons\";\n\nconst GoogleLinking = () => {\n    const [googleEmail, setGoogleEmail] = useState(\"\");\n\n    const load = async () => {\n        await fetch(\"http://localhost:4000/google_email\", {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage().then();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            setGoogleEmail(res.google_email);\n        }).catch(err => message.error(err, 1));\n    }\n\n    useEffect(() => load(), []);\n    EventBus.addEventListener(\"reload_google_binding\", load);\n    EventBus.addEventListener(\"reload_all\", load);\n    EventBus.addEventListener(\"clear_all_states\", () => {\n        setGoogleEmail(\"\");\n    });\n\n    const onFinish = async () => {\n        window.location.href = \"http://localhost:3000/auth/google\";\n    }\n\n    return (\n        <Form {...formItemLayout}\n              name=\"userGoogleBinding\"\n              autoComplete=\"off\"\n              onFinish={onFinish}\n        >\n            <Form.Item name=\"googleEmail\"\n                       label=\"Google Account\"\n            >\n                <span className=\"ant-form-text\">\n                    {googleEmail}\n                </span>\n            </Form.Item>\n\n            <Form.Item {...tailFormItemLayout}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Link your account with {<GoogleOutlined/>}\n                </Button>\n            </Form.Item>\n        </Form>\n    )\n}\n\nexport default GoogleLinking;\n"]},"metadata":{},"sourceType":"module"}
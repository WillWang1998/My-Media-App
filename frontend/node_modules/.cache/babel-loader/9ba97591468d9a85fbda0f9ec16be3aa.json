{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Comment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Card, Form, Input, Comment as antdComment } from \"antd\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { handleResponse, showError } from \"../util/Functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Comment = props => {\n  _s();\n\n  const [hideEditor, setHideEditor] = useState(false);\n  const id = useState(props.id);\n  const [author, setAuthor] = useState(\"\");\n  const [authorDisplayedName, setAuthorDisplayedName] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [text, setText] = useState(\"\");\n\n  const load = async () => {\n    await fetch(\"http://localhost:4000/comment/\" + id, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => handleResponse(res)).then(async res => {\n      setAuthor(res.username);\n      setText(res.text);\n      await fetch(\"http://localhost:4000/profile/\" + author, {\n        method: \"GET\",\n        credentials: \"include\"\n      }).then(res => handleResponse(res)).then(res => {\n        setAuthorDisplayedName(res.displayed_name);\n        setAvatar(res.avatar);\n      });\n    }).catch(err => showError(err));\n  };\n\n  useEffect(() => load, []);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"antdComment\", {\n      author: authorDisplayedName,\n      avatar: avatar,\n      content: text,\n      actions: props.username === props.author ? [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => setHideEditor(!hideEditor),\n        children: [/*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this), \"Edit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        onClick: () => setHideEditor(!hideEditor),\n        children: [/*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), \"Edit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)] : []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      hidden: hideEditor,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        bordered: true,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"body\",\n            children: /*#__PURE__*/_jsxDEV(Input.TextArea, {\n              value: text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              htmlType: \"submit\",\n              type: \"primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Comment, \"66rZB+tM9Wab+luK0b08SEf/VBY=\");\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Comment.js"],"names":["React","useEffect","useState","Button","Card","Form","Input","Comment","antdComment","DeleteOutlined","EditOutlined","handleResponse","showError","props","hideEditor","setHideEditor","id","author","setAuthor","authorDisplayedName","setAuthorDisplayedName","avatar","setAvatar","text","setText","load","fetch","method","credentials","then","res","username","displayed_name","catch","err"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Button, Card, Form, Input, Comment as antdComment} from \"antd\";\nimport {DeleteOutlined, EditOutlined} from \"@ant-design/icons\";\nimport {handleResponse, showError} from \"../util/Functions\";\n\nconst Comment = (props) => {\n    const [hideEditor, setHideEditor] = useState(false);\n    const id = useState(props.id);\n    const [author, setAuthor] = useState(\"\");\n    const [authorDisplayedName, setAuthorDisplayedName] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n    const [text, setText] = useState(\"\");\n\n    const load = async () => {\n        await fetch(\"http://localhost:4000/comment/\" + id, {\n            method: \"GET\",\n            credentials: \"include\"\n        }).then(res => handleResponse(res)).then(async res => {\n            setAuthor(res.username);\n            setText(res.text);\n            await fetch(\"http://localhost:4000/profile/\" + author, {\n                method: \"GET\",\n                credentials: \"include\",\n            }).then(res => handleResponse(res)).then(res => {\n                setAuthorDisplayedName(res.displayed_name);\n                setAvatar(res.avatar);\n            })\n        }).catch(err => showError(err));\n    }\n\n    useEffect(() => load, []);\n\n    return (\n        <li>\n        <antdComment\n            author={authorDisplayedName}\n            avatar={avatar}\n            content={text}\n            actions={\n                props.username === props.author ? [\n                    <Button type=\"link\" onClick={() => setHideEditor(!hideEditor)}>\n                        <EditOutlined/>Edit\n                    </Button>,\n                    <Button type=\"link\" onClick={() => setHideEditor(!hideEditor)}>\n                        <DeleteOutlined/>Edit\n                    </Button>\n                ] : []\n            }\n        />\n        <div hidden={hideEditor}>\n            <Card bordered={true}>\n                <Form>\n                    <Form.Item name=\"body\">\n                        <Input.TextArea value={text}/>\n                    </Form.Item>\n                    <Form.Item>\n                        <Button htmlType=\"submit\" type=\"primary\">\n                            Submit\n                        </Button>\n                    </Form.Item>\n                </Form>\n            </Card>\n        </div>\n        </li>\n    )\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Following.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Button, List, message } from \"antd\";\nimport { showBackendMessage } from \"../util/Functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Following = props => {\n  _s();\n\n  message.config({\n    rtl: false\n  });\n  const [username, setUsername] = useState(props.username);\n  const [avatar, setAvatar] = useState(\"\");\n  const [displayedName, setDisplayedName] = useState(\"\");\n  const [headline, setHeadline] = useState(\"\");\n\n  const load = async () => {\n    console.log(\"following load username\", username);\n    if (!username) return;\n    await fetch(\"http://localhost:4000/profile/\" + username, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(res => {\n      console.log(\"following load res\", res);\n      setAvatar(res.avatar);\n      setDisplayedName(res.displayedName);\n      setHeadline(res.headline);\n    }).catch(err => message.error(err, 1));\n  };\n\n  useEffect(() => load(), []);\n\n  const onClick = async () => {\n    props.action(username)();\n  };\n\n  return /*#__PURE__*/_jsxDEV(List.Item, {\n    actions: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      onClick: onClick,\n      children: props.actionSymbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }, this),\n      title: displayedName,\n      description: headline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Following, \"HMupJD8gQsNouLqFrpfeEo5bVMo=\");\n\n_c = Following;\nexport default Following;\n\nvar _c;\n\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Following.js"],"names":["React","useEffect","useState","Avatar","Button","List","message","showBackendMessage","Following","props","config","rtl","username","setUsername","avatar","setAvatar","displayedName","setDisplayedName","headline","setHeadline","load","console","log","fetch","method","credentials","then","res","ok","json","statusText","catch","err","error","onClick","action","actionSymbol"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,OAA9B,QAA4C,MAA5C;AACA,SAAQC,kBAAR,QAAiC,mBAAjC;;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AAEzBH,EAAAA,OAAO,CAACI,MAAR,CAAe;AACXC,IAAAA,GAAG,EAAE;AADM,GAAf;AAIA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAACO,KAAK,CAACG,QAAP,CAAxC;AACA,QAAM,CAACE,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAoCf,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMkB,IAAI,GAAG,YAAY;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCV,QAAvC;AACA,QAAI,CAACA,QAAL,EAAe;AACf,UAAMW,KAAK,CAAC,mCAAmCX,QAApC,EAA8C;AACrDY,MAAAA,MAAM,EAAE,KAD6C;AAErDC,MAAAA,WAAW,EAAE;AAFwC,KAA9C,CAAL,CAGHC,IAHG,CAGEC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACRrB,QAAAA,kBAAkB;AAClB,eAAOoB,GAAG,CAACE,IAAJ,EAAP;AACH,OAHD,MAGO;AACH,cAAMF,GAAG,CAACG,UAAV;AACH;AACJ,KAVK,EAUHJ,IAVG,CAUEC,GAAG,IAAI;AACXN,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCK,GAAlC;AACAZ,MAAAA,SAAS,CAACY,GAAG,CAACb,MAAL,CAAT;AACAG,MAAAA,gBAAgB,CAACU,GAAG,CAACX,aAAL,CAAhB;AACAG,MAAAA,WAAW,CAACQ,GAAG,CAACT,QAAL,CAAX;AACH,KAfK,EAeHa,KAfG,CAeGC,GAAG,IAAI1B,OAAO,CAAC2B,KAAR,CAAcD,GAAd,EAAmB,CAAnB,CAfV,CAAN;AAgBH,GAnBD;;AAqBA/B,EAAAA,SAAS,CAAC,MAAMmB,IAAI,EAAX,EAAe,EAAf,CAAT;;AAEA,QAAMc,OAAO,GAAG,YAAY;AACxBzB,IAAAA,KAAK,CAAC0B,MAAN,CAAavB,QAAb;AACH,GAFD;;AAIA,sBACI,QAAC,IAAD,CAAM,IAAN;AAAW,IAAA,OAAO,EAAE,cAChB,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,OAAO,EAAEsB,OAA7B;AAAA,gBACKzB,KAAK,CAAC2B;AADX;AAAA;AAAA;AAAA;AAAA,YADgB,CAApB;AAAA,2BAKI,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACI,MAAA,MAAM,eAAE,QAAC,MAAD;AAAQ,QAAA,GAAG,EAAEtB;AAAb;AAAA;AAAA;AAAA;AAAA,cADZ;AAEI,MAAA,KAAK,EAAEE,aAFX;AAGI,MAAA,WAAW,EAAEE;AAHjB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CAnDD;;GAAMV,S;;KAAAA,S;AAqDN,eAAeA,SAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Button, List, message} from \"antd\";\nimport {showBackendMessage} from \"../util/Functions\";\n\n\nconst Following = (props) => {\n\n    message.config({\n        rtl: false,\n    });\n\n    const [username, setUsername] = useState(props.username);\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n    const [headline, setHeadline] = useState(\"\");\n\n    const load = async () => {\n        console.log(\"following load username\", username);\n        if (!username) return;\n        await fetch(\"http://localhost:4000/profile/\" + username, {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            console.log(\"following load res\", res);\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayedName);\n            setHeadline(res.headline);\n        }).catch(err => message.error(err, 1));\n    };\n\n    useEffect(() => load(), []);\n\n    const onClick = async () => {\n        props.action(username)();\n    }\n\n    return (\n        <List.Item actions={[\n            <Button type=\"text\" onClick={onClick}>\n                {props.actionSymbol}\n            </Button>,\n        ]}>\n            <List.Item.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={headline}\n            />\n        </List.Item>\n    )\n};\n\nexport default Following;\n"]},"metadata":{},"sourceType":"module"}
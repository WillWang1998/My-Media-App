{"ast":null,"code":"import _regeneratorRuntime from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/willwang98/Rice Homework/final-frontend-WillWang1998/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Avatar,Button,List,message}from\"antd\";import{showBackendMessage}from\"../util/Functions\";import{jsx as _jsx}from\"react/jsx-runtime\";var Following=function Following(props){message.config({rtl:false});var _useState=useState(props.username),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),avatar=_useState4[0],setAvatar=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),displayedName=_useState6[0],setDisplayedName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),headline=_useState8[0],setHeadline=_useState8[1];var load=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(username){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch(\"http://localhost:4000/profile/\"+username,{method:\"GET\",credentials:\"include\"}).then(function(res){if(res.ok){showBackendMessage();return res.json();}else{throw res.statusText;}}).then(function(res){setAvatar(res.avatar);setDisplayedName(res.displayedName);setHeadline(res.headline);}).catch(function(err){return message.error(err,1);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function load(){return _ref.apply(this,arguments);};}();useEffect(function(){return load();},[]);var onClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:props.action(username)();case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function onClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Button,{type:\"text\",onClick:onClick,children:props.actionSymbol})],children:/*#__PURE__*/_jsx(List.Item.Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{src:avatar}),title:displayedName,description:headline})});};export default Following;","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-WillWang1998/src/component/Following.js"],"names":["React","useEffect","useState","Avatar","Button","List","message","showBackendMessage","Following","props","config","rtl","username","setUsername","avatar","setAvatar","displayedName","setDisplayedName","headline","setHeadline","load","fetch","method","credentials","then","res","ok","json","statusText","catch","err","error","onClick","action","actionSymbol"],"mappings":"mhBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,MAAR,CAAgBC,MAAhB,CAAwBC,IAAxB,CAA8BC,OAA9B,KAA4C,MAA5C,CACA,OAAQC,kBAAR,KAAiC,mBAAjC,C,2CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAEzBH,OAAO,CAACI,MAAR,CAAe,CACXC,GAAG,CAAE,KADM,CAAf,EAIA,cAAgCT,QAAQ,CAACO,KAAK,CAACG,QAAP,CAAxC,wCAAOA,QAAP,eAAiBC,WAAjB,eACA,eAA4BX,QAAQ,CAAC,EAAD,CAApC,yCAAOY,MAAP,eAAeC,SAAf,eACA,eAA0Cb,QAAQ,CAAC,EAAD,CAAlD,yCAAOc,aAAP,eAAsBC,gBAAtB,eACA,eAAgCf,QAAQ,CAAC,EAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,IAAI,0FAAG,sIACJR,QADI,uFAEHS,CAAAA,KAAK,CAAC,iCAAmCT,QAApC,CAA8C,CACrDU,MAAM,CAAE,KAD6C,CAErDC,WAAW,CAAE,SAFwC,CAA9C,CAAL,CAGHC,IAHG,CAGE,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,EAAR,CAAY,CACRnB,kBAAkB,GAClB,MAAOkB,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CAHD,IAGO,CACH,KAAMF,CAAAA,GAAG,CAACG,UAAV,CACH,CACJ,CAVK,EAUHJ,IAVG,CAUE,SAAAC,GAAG,CAAI,CACXV,SAAS,CAACU,GAAG,CAACX,MAAL,CAAT,CACAG,gBAAgB,CAACQ,GAAG,CAACT,aAAL,CAAhB,CACAG,WAAW,CAACM,GAAG,CAACP,QAAL,CAAX,CACH,CAdK,EAcHW,KAdG,CAcG,SAAAC,GAAG,QAAIxB,CAAAA,OAAO,CAACyB,KAAR,CAAcD,GAAd,CAAmB,CAAnB,CAAJ,EAdN,CAFG,uDAAH,kBAAJV,CAAAA,IAAI,0CAAV,CAmBAnB,SAAS,CAAC,iBAAMmB,CAAAA,IAAI,EAAV,EAAD,CAAe,EAAf,CAAT,CAEA,GAAMY,CAAAA,OAAO,2FAAG,wIACZvB,KAAK,CAACwB,MAAN,CAAarB,QAAb,IADY,wDAAH,kBAAPoB,CAAAA,OAAO,2CAAb,CAIA,mBACI,KAAC,IAAD,CAAM,IAAN,EAAW,OAAO,CAAE,cAChB,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,OAAO,CAAEA,OAA7B,UACKvB,KAAK,CAACyB,YADX,EADgB,CAApB,uBAKI,KAAC,IAAD,CAAM,IAAN,CAAW,IAAX,EACI,MAAM,cAAE,KAAC,MAAD,EAAQ,GAAG,CAAEpB,MAAb,EADZ,CAEI,KAAK,CAAEE,aAFX,CAGI,WAAW,CAAEE,QAHjB,EALJ,EADJ,CAaH,CAjDD,CAmDA,cAAeV,CAAAA,SAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Button, List, message} from \"antd\";\nimport {showBackendMessage} from \"../util/Functions\";\n\n\nconst Following = (props) => {\n\n    message.config({\n        rtl: false,\n    });\n\n    const [username, setUsername] = useState(props.username);\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n    const [headline, setHeadline] = useState(\"\");\n\n    const load = async () => {\n        if (!username) return;\n        await fetch(\"http://localhost:4000/profile/\" + username, {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayedName);\n            setHeadline(res.headline);\n        }).catch(err => message.error(err, 1));\n    };\n\n    useEffect(() => load(), []);\n\n    const onClick = async () => {\n        props.action(username)();\n    }\n\n    return (\n        <List.Item actions={[\n            <Button type=\"text\" onClick={onClick}>\n                {props.actionSymbol}\n            </Button>,\n        ]}>\n            <List.Item.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={headline}\n            />\n        </List.Item>\n    )\n};\n\nexport default Following;\n"]},"metadata":{},"sourceType":"module"}
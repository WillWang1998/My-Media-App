{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Comments.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Card, Input, List, message } from \"antd\";\nimport Comment from \"./Comment\";\nimport { handleResponse, showError } from \"../util/Functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Comments = props => {\n  _s();\n\n  const [commentIdList, setCommentIdList] = useState(props.commentIdList);\n\n  const addNewComment = async value => {\n    await fetch(\"http://localhost:4000/comment\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        articleID: props.articleId,\n        text: value\n      })\n    }).then(res => handleResponse(res)).then(res => {\n      setCommentIdList(res.comments);\n      message.success(\"Comment Successfully!\", 1);\n    }).catch(err => showError(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(List, {\n      header: `${commentIdList.length} replies`,\n      itemLayout: \"horizontal\",\n      dataSource: commentIdList,\n      renderItem: item => /*#__PURE__*/_jsxDEV(Comment, {\n        id: item.id,\n        username: props.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input.Search, {\n      allowClear: true,\n      onClick: addNewComment,\n      enterButton: \"Comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Comments, \"e3xp3e320TZ4ZEccEbJuQVlx7RQ=\");\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Comments.js"],"names":["React","useState","Card","Input","List","message","Comment","handleResponse","showError","Comments","props","commentIdList","setCommentIdList","addNewComment","value","fetch","method","credentials","headers","body","JSON","stringify","articleID","articleId","text","then","res","comments","success","catch","err","length","item","id","username"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,IAAR,EAAcC,KAAd,EAAqBC,IAArB,EAA2BC,OAA3B,QAAyC,MAAzC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAAQC,cAAR,EAAwBC,SAAxB,QAAwC,mBAAxC;;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAAA;;AACxB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAACS,KAAK,CAACC,aAAP,CAAlD;;AAEA,QAAME,aAAa,GAAG,MAAOC,KAAP,IAAiB;AACnC,UAAMC,KAAK,CAAC,+BAAD,EAAkC;AACzCC,MAAAA,MAAM,EAAE,MADiC;AAEzCC,MAAAA,WAAW,EAAE,SAF4B;AAGzCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHgC;AAMzCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,SAAS,EAAEZ,KAAK,CAACa,SADA;AAEjBC,QAAAA,IAAI,EAAEV;AAFW,OAAf;AANmC,KAAlC,CAAL,CAUHW,IAVG,CAUEC,GAAG,IAAInB,cAAc,CAACmB,GAAD,CAVvB,EAU8BD,IAV9B,CAUmCC,GAAG,IAAI;AAC5Cd,MAAAA,gBAAgB,CAACc,GAAG,CAACC,QAAL,CAAhB;AACAtB,MAAAA,OAAO,CAACuB,OAAR,CAAgB,uBAAhB,EAAyC,CAAzC;AACH,KAbK,EAaHC,KAbG,CAaGC,GAAG,IAAItB,SAAS,CAACsB,GAAD,CAbnB,CAAN;AAcH,GAfD;;AAiBA,sBACI,QAAC,IAAD;AAAA,4BACI,QAAC,IAAD;AACI,MAAA,MAAM,EAAG,GAAEnB,aAAa,CAACoB,MAAO,UADpC;AAEI,MAAA,UAAU,EAAC,YAFf;AAGI,MAAA,UAAU,EAAEpB,aAHhB;AAII,MAAA,UAAU,EAAEqB,IAAI,iBAAI,QAAC,OAAD;AAAS,QAAA,EAAE,EAAEA,IAAI,CAACC,EAAlB;AAAsB,QAAA,QAAQ,EAAEvB,KAAK,CAACwB;AAAtC;AAAA;AAAA;AAAA;AAAA;AAJxB;AAAA;AAAA;AAAA;AAAA,YADJ,eAOI,QAAC,KAAD,CAAO,MAAP;AACI,MAAA,UAAU,MADd;AAEI,MAAA,OAAO,EAAErB,aAFb;AAGI,MAAA,WAAW,EAAC;AAHhB;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH,CAlCD;;GAAMJ,Q;;KAAAA,Q;AAoCN,eAAeA,QAAf","sourcesContent":["import React, {useState} from \"react\";\nimport {Card, Input, List, message} from \"antd\";\nimport Comment from \"./Comment\";\nimport {handleResponse, showError} from \"../util/Functions\";\n\nconst Comments = (props) => {\n    const [commentIdList, setCommentIdList] = useState(props.commentIdList);\n\n    const addNewComment = async (value) => {\n        await fetch(\"http://localhost:4000/comment\", {\n            method: \"POST\",\n            credentials: \"include\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                articleID: props.articleId,\n                text: value,\n            }),\n        }).then(res => handleResponse(res)).then(res => {\n            setCommentIdList(res.comments);\n            message.success(\"Comment Successfully!\", 1);\n        }).catch(err => showError(err));\n    }\n\n    return (\n        <Card>\n            <List\n                header={`${commentIdList.length} replies`}\n                itemLayout=\"horizontal\"\n                dataSource={commentIdList}\n                renderItem={item => <Comment id={item.id} username={props.username}/>}\n            />\n            <Input.Search\n                allowClear\n                onClick={addNewComment}\n                enterButton=\"Comment\"/>\n        </Card>\n    )\n}\n\nexport default Comments;\n"]},"metadata":{},"sourceType":"module"}
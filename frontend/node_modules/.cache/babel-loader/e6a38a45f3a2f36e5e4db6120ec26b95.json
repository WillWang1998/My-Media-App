{"ast":null,"code":"var _jsxFileName = \"/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Following.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar, Button, List, message } from \"antd\";\nimport { handleResponse, showBackendMessage } from \"../util/Functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Following = props => {\n  _s();\n\n  const [username, setUsername] = useState(props.username);\n  const [avatar, setAvatar] = useState(\"\");\n  const [displayedName, setDisplayedName] = useState(\"\");\n  const [headline, setHeadline] = useState(\"\");\n  const [hidden, setHidden] = useState(false);\n\n  const load = async () => {\n    await fetch(\"http://localhost:4000/profile/\" + username, {\n      method: \"GET\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.ok) {\n        showBackendMessage().then();\n        return res.json();\n      } else {\n        throw res.statusText;\n      }\n    }).then(res => {\n      setAvatar(res.avatar);\n      setDisplayedName(res.displayedName);\n      setHeadline(res.headline);\n    }).catch(err => message.error(err, 1));\n  };\n\n  useEffect(() => load(), []);\n\n  const onClick = async value => {\n    setHidden(false);\n    props.action(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(List.Item, {\n    actions: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"text\",\n      onClick: onClick,\n      children: props.actionSymbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)],\n    hidden: hidden,\n    children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }, this),\n      title: displayedName,\n      description: headline\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Following, \"yepPe7dnnmb8r/pk85DfLcxf+50=\");\n\n_c = Following;\nexport default Following;\n\nvar _c;\n\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"sources":["/Users/willwang98/Rice Homework/final-frontend-willwang1998-copy/src/component/Following.js"],"names":["React","useEffect","useState","Avatar","Button","List","message","handleResponse","showBackendMessage","Following","props","username","setUsername","avatar","setAvatar","displayedName","setDisplayedName","headline","setHeadline","hidden","setHidden","load","fetch","method","credentials","then","res","ok","json","statusText","catch","err","error","onClick","value","action","actionSymbol"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,OAA9B,QAA4C,MAA5C;AACA,SAAQC,cAAR,EAAwBC,kBAAxB,QAAiD,mBAAjD;;;AAGA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAACQ,KAAK,CAACC,QAAP,CAAxC;AACA,QAAM,CAACE,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACa,aAAD,EAAgBC,gBAAhB,IAAoCd,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,KAAD,CAApC;;AAEA,QAAMmB,IAAI,GAAG,YAAY;AACrB,UAAMC,KAAK,CAAC,mCAAmCX,QAApC,EAA8C;AACrDY,MAAAA,MAAM,EAAE,KAD6C;AAErDC,MAAAA,WAAW,EAAE;AAFwC,KAA9C,CAAL,CAGHC,IAHG,CAGEC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACRnB,QAAAA,kBAAkB,GAAGiB,IAArB;AACA,eAAOC,GAAG,CAACE,IAAJ,EAAP;AACH,OAHD,MAGO;AACH,cAAMF,GAAG,CAACG,UAAV;AACH;AACJ,KAVK,EAUHJ,IAVG,CAUEC,GAAG,IAAI;AACXZ,MAAAA,SAAS,CAACY,GAAG,CAACb,MAAL,CAAT;AACAG,MAAAA,gBAAgB,CAACU,GAAG,CAACX,aAAL,CAAhB;AACAG,MAAAA,WAAW,CAACQ,GAAG,CAACT,QAAL,CAAX;AACH,KAdK,EAcHa,KAdG,CAcGC,GAAG,IAAIzB,OAAO,CAAC0B,KAAR,CAAcD,GAAd,EAAmB,CAAnB,CAdV,CAAN;AAeH,GAhBD;;AAkBA9B,EAAAA,SAAS,CAAC,MAAMoB,IAAI,EAAX,EAAe,EAAf,CAAT;;AAEA,QAAMY,OAAO,GAAG,MAAOC,KAAP,IAAiB;AAC7Bd,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAV,IAAAA,KAAK,CAACyB,MAAN,CAAaD,KAAb;AACH,GAHD;;AAKA,sBACI,QAAC,IAAD,CAAM,IAAN;AAAW,IAAA,OAAO,EAAE,cAChB,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,OAAO,EAAED,OAA7B;AAAA,gBACKvB,KAAK,CAAC0B;AADX;AAAA;AAAA;AAAA;AAAA,YADgB,CAApB;AAIG,IAAA,MAAM,EAAEjB,MAJX;AAAA,2BAKI,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACI,MAAA,MAAM,eAAE,QAAC,MAAD;AAAQ,QAAA,GAAG,EAAEN;AAAb;AAAA;AAAA;AAAA;AAAA,cADZ;AAEI,MAAA,KAAK,EAAEE,aAFX;AAGI,MAAA,WAAW,EAAEE;AAHjB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CA7CD;;GAAMR,S;;KAAAA,S;AA+CN,eAAeA,SAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Avatar, Button, List, message} from \"antd\";\nimport {handleResponse, showBackendMessage} from \"../util/Functions\";\n\n\nconst Following = (props) => {\n    const [username, setUsername] = useState(props.username);\n    const [avatar, setAvatar] = useState(\"\");\n    const [displayedName, setDisplayedName] = useState(\"\");\n    const [headline, setHeadline] = useState(\"\");\n    const [hidden, setHidden] = useState(false);\n\n    const load = async () => {\n        await fetch(\"http://localhost:4000/profile/\" + username, {\n            method: \"GET\",\n            credentials: \"include\",\n        }).then(res => {\n            if (res.ok) {\n                showBackendMessage().then();\n                return res.json();\n            } else {\n                throw res.statusText;\n            }\n        }).then(res => {\n            setAvatar(res.avatar);\n            setDisplayedName(res.displayedName);\n            setHeadline(res.headline);\n        }).catch(err => message.error(err, 1));\n    };\n\n    useEffect(() => load(), []);\n\n    const onClick = async (value) => {\n        setHidden(false);\n        props.action(value);\n    }\n\n    return (\n        <List.Item actions={[\n            <Button type=\"text\" onClick={onClick}>\n                {props.actionSymbol}\n            </Button>,\n        ]} hidden={hidden}>\n            <List.Item.Meta\n                avatar={<Avatar src={avatar}/>}\n                title={displayedName}\n                description={headline}\n            />\n        </List.Item>\n    )\n};\n\nexport default Following;\n"]},"metadata":{},"sourceType":"module"}